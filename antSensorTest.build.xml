<project name="Ant sensors test" default="test.sensors">
  <description>
  Provides sample Ant sensor tasks for each sensor bundled in the release.
  </description>
	
  <property name="testdata.dir" location="${basedir}/testdata" />
	
  <taskdef resource="antlib.xml" classpath="${basedir}/antsensors.jar"/>
	
	<target name="test.sensors" description="Tests all sensors with test data." 
	  depends="test.junit.sensor, test.emma.sensor, test.checkstyle.sensor, test.pmd.sensor"/>
	
  <target name="test.junit.sensor" description="Sends UnitTest data to Hackystat using the JUnit sensor.">
    <!-- Send JUnit test data to hackystat using the JUnit sensor. -->
    <hacky-junit verbose="false" 
                 sourcePath="${src.dir}">
      <fileset dir="${testdata.dir}/junit" includes="TEST-*.xml"/>
    </hacky-junit>
  </target>
	
  <target name="test.emma.sensor" description="Sends Emma coverage data to Hackystat using the Emma sensor.">
    <!-- Send Coverage data to Hackystat using the Emma sensor. --> 
    <hacky-emma verbose="false" emmaReportXmlFile="${testdata.dir}/emma/coverage.xml">
      <fileset dir="${basedir}/src" includes="**/*.java" />
    </hacky-emma>
  </target>
	
	<target name="test.checkstyle.sensor" description="Sends Checkstyle CodeIssue data to Hackystat using the Checkstyle sensor.">
		<!-- Send Checkstyle data to Hackystat. -->
		<hacky-checkstyle verbose="false">
			<fileset file="${testdata.dir}/checkstyle/checkstyle.xml"/>
		</hacky-checkstyle>
	</target>
	
	 <target name="test.pmd.sensor" description="Sends PMD CodeIssue data to Hackystat using the PMD sensor.">
	    <!-- Send PMD data to Hackystat. -->
	    <hacky-pmd verbose="false">
	      <fileset file="${testdata.dir}/pmd/pmd.xml"/>
	    </hacky-pmd>
	  </target>
</project>